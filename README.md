# DES加密通信系统

## 项目简介

本项目是一个基于DES加密算法和Diffie-Hellman密钥交换协议的安全通信系统，支持加密消息和文件传输。系统采用C/S(客户端/服务器)架构，提供了友好的图形用户界面，使用Python语言实现。

## 系统功能

1. **安全通信**：使用DES加密算法对消息和文件进行加密传输，保证通信安全
2. **密钥交换**：基于Diffie-Hellman密钥交换协议，实现双方安全的密钥协商
3. **消息传输**：支持发送和接收加密文本消息
4. **文件传输**：支持加密文件的发送和接收
5. **效率统计**：实时统计加密和解密的效率，包括平均加密效率和平均解密效率

## 系统架构

项目由以下几个主要组件构成：

1. **UI组件**：基于`tkinter`实现的图形用户界面
2. **加密组件**：包含DES加密和Diffie-Hellman密钥交换的实现
3. **网络组件**：负责网络通信，支持消息和文件的发送接收

### 目录结构

```
- ui/
  - main_window.py    # 主窗口界面实现
- crypto/
  - des.py            # DES加密算法实现
  - diffie_hellman.py # Diffie-Hellman密钥交换实现
- network/
  - communication.py  # 网络通信管理器
- main.py             # 应用程序入口
- received/           # 接收文件保存目录(自动创建)
```

## 使用方法

### 环境要求

- Python 3.6+
- 依赖包：
  - pycryptodome (用于DES加密)
  - tkinter (图形界面)

### 安装依赖

```
pip install pycryptodome
```

### 运行应用程序

```
python main.py
```

### 操作说明

1. **启动通信**
   - 选择角色：服务器(Bob)或客户端(Alice)
   - 输入IP地址和端口号
   - 点击"连接"按钮

2. **发送消息**
   - 在消息输入框输入文本
   - 点击"发送"按钮

3. **发送文件**
   - 点击"发送文件"按钮
   - 选择要发送的文件

4. **接收文件**
   - 接收的文件会自动保存在"received"目录下

5. **查看统计信息**
   - 右侧面板显示消息和文件传输的统计信息
   - 可查看平均加密/解密效率

## 技术实现

1. **密钥交换**
   - 采用Diffie-Hellman密钥交换协议，确保密钥交换的安全性
   - 使用2048位安全质数和SHA-256哈希函数增强安全性

2. **消息加密**
   - 使用DES算法(CBC模式)加密消息
   - 每次加密都使用随机初始化向量(IV)，防止重放攻击

3. **网络通信**
   - 使用Socket实现TCP网络通信
   - 实现自定义协议，支持不同类型的消息传输(密钥、消息、文件)

4. **效率统计**
   - 记录每次加密和解密操作的时间
   - 计算平均加密和解密速率(字节/秒)

## 安全性考虑

1. 系统通过Diffie-Hellman算法实现密钥交换，防止密钥在网络传输过程中被窃取
2. 使用DES加密算法(CBC模式)和随机初始化向量，确保加密的安全性
3. 共享密钥通过SHA-256哈希函数处理，增强密钥的安全性

## 注意事项

1. 本系统主要用于演示加密通信原理，实际应用中可以考虑使用更强的加密算法(如AES)
2. 当前版本不支持认证功能，可能存在中间人攻击的风险
3. 统计的加密/解密效率会随着操作累积而更新，不会即时反映每次操作的效率 



# improvement
展现密钥的变换过程以及数据加解密的过程
优化代码结构 回调函数似乎有点麻烦（如果合理，也可以不改变）
自主选择Diffie-Hellman的参数配置，原始代码中只包含默认配置
接受文件夹在根目录下
能否自定义实现DES加密解密